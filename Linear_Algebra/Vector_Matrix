#ifndef __VECTOR_MATRIX_H
#define __VECTOR_MATRIX_H
/*
5D vector analysis program
Copyright (C) 2011  Danny Milosavljevic
This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version.
This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License for more details.
You should have received a copy of the GNU General Public License along with this program.  If not, see <http://www.gnu.org/licenses/>.
*/
#include "vector"
#include "matrix"

template<typename T>
Matrix<T,4,1> Matrix(const Vector<T>& a) {
	Matrix<T,4,1> result;
	result.items[0][0] = a.ct;
	result.items[1][0] = a.x;
	result.items[2][0] = a.y;
	result.items[3][0] = a.z;
	return(result);
}

template<typename T>
T dot(const Matrix<T,4,1>& a, const Matrix<T,4,1>& b) {
	return(a.transpose() * b);
}

template<typename T>
T dot(const Vector<T>& a, const Vector<T>& b) {
	return(dot(Matrix(a), Matrix(b)));
}

static float sqrt(int a) { /* protect me from silliness */
	return(sqrtf((float) a));
}

template<typename T>
T length(const Vector<T>& a) const {
	return(sqrt(dot(a,a)));
}

#endif /* ndef __VECTOR_MATRIX_H */
