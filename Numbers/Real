#ifndef __NUMBERS_REAL_H
#define __NUMBERS_REAL_H
#include <sstream>
#include "Numbers/Small"
#include "AST/AST"
#include "Evaluators/Operation"

namespace Numbers {

#if defined(__VFP_FP__) || defined(__ARM_EABI__)
/* ARM doesn't have extended-precision floating point */
typedef double NativeFloat;
//#define NATIVEFLOAT_PRECISION 15
#else
typedef long double NativeFloat;
//#define NATIVEFLOAT_PRECISION 19
#endif

AST::NodeT internNative(NativeFloat value);

DECLARE_SMALL_VALUE(Float, NativeFloat)   
DECLARE_SIMPLE_OPERATION(FloatP)

struct Real : AST::Node {
	NativeFloat* parts;
};

AST::NodeT operator+(const Float& a, const Float& b);
AST::NodeT operator-(const Float& a, const Float& b);
AST::NodeT operator*(const Float& a, const Float& b);
AST::NodeT operator/(const Float& a, const Float& b);
Real* operator+(const Real& a, const Real& b);
Real* operator-(const Real& a, const Real& b);
Real* operator*(const Real& a, const Real& b);
Real* operator/(const Real& a, const Real& b);
AST::NodeT operator<=(const Float& a, const Float& b);
AST::NodeT operator<=(const Real& a, const Real& b);

bool toNativeFloat(AST::NodeT node, NativeFloat& result);

};

#endif /* ndef __NUMBERS_REAL_H */
