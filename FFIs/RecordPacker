#ifndef __FFIS_RECORD_PACKER_H
#define __FFIS_RECORD_PACKER_H
#include "Evaluators/Operation"
#include "AST/AST"

namespace FFIs {

/* uses C packing alignment */
AST::Str* Record_pack(AST::Str* formatStr, AST::Node* data);
AST::Node* Record_unpack(AST::Str* formatStr, AST::Str* dataStr);

DECLARE_SIMPLE_OPERATION(RecordPacker)
DECLARE_SIMPLE_OPERATION(RecordUnpacker)
DECLARE_SIMPLE_OPERATION(RecordSizeCalculator)
DECLARE_SIMPLE_OPERATION(RecordAllocator)
DECLARE_SIMPLE_OPERATION(RecordDuplicator)
DECLARE_BINARY_OPERATION(ListFromStrGetter)
DECLARE_BINARY_OPERATION(StrFromListGetter)
DECLARE_SIMPLE_OPERATION(SubstrGetter)
DECLARE_SIMPLE_OPERATION(StrUntilZeroGetter)

}; /* end namespace FFIs */

#endif /* ndef __FFIS_RECORD_PACKER_H */
